---
title: Reactç”¨èªä¸€è¦§ã¨åˆ©ç”¨ã‚¬ã‚¤ãƒ‰
description: Reactã®ç”¨èªã¨Reactãƒ•ãƒƒã‚¯ã‚’è§£èª¬ã€‚useStateã€useEffectã€Recoilã€Reduxãªã©ã®ä¸»è¦ãªæ©Ÿèƒ½ã¨ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã‚’æä¾›ã€‚
date: 2023-11-07
lastmod: 2023-12-03
emoji: ğŸŒŸ
tags: 
  - react
published: true
---

## React ç”¨èªä¸€è¦§ã¨åˆ©ç”¨ã‚¬ã‚¤ãƒ‰

React ã‚’ãƒã‚¹ã‚¿ãƒ¼ã—ã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ™ãƒ¼ã‚¹ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³é–‹ç™ºã‚’åŠ¹ç‡çš„ã«è¡Œã†ãŸã‚ã®ç”¨èªè§£èª¬ã¨ã‚¬ã‚¤ãƒ‰ã‚’æä¾›ã—ã¾ã™ã€‚  
React ã®åŸºæœ¬ã‹ã‚‰é«˜åº¦ãªæ¦‚å¿µã¾ã§ç†è§£ã—ã¾ã—ã‚‡ã†ã€‚

## React ãƒ•ãƒƒã‚¯

React ãƒ•ãƒƒã‚¯ã¯ã€é–¢æ•°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§çŠ¶æ…‹ã‚„å‰¯ä½œç”¨ã‚’æ‰±ã†ãŸã‚ã®ç‰¹åˆ¥ãªé–¢æ•°ã§ã™ã€‚ä»¥ä¸‹ã«ä¸»è¦ãª React ãƒ•ãƒƒã‚¯ã‚’èª¬æ˜ã—ã€ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã‚‚æä¾›ã—ã¾ã™ã€‚

### useState

`useState`ã¯ã€é–¢æ•°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§çŠ¶æ…‹ã‚’ç®¡ç†ã™ã‚‹ãŸã‚ã® React ãƒ•ãƒƒã‚¯ã§ã™ã€‚çŠ¶æ…‹ã®ä¿æŒã¨æ›´æ–°ãŒå¯èƒ½ã§ã™ã€‚

```jsx
import React, { useState } from 'react';

function Counter() {
  const [count, setCount] = useState(0);

  return (
    <div>
      <p>Count: {count}</p>
      <button onClick={() => setCount(count + 1)}>Increment</button>
    </div>
  );
}
```

### useEffect

`useEffect`ã¯ã€é–¢æ•°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå†…ã§å‰¯ä½œç”¨ã‚’åˆ¶å¾¡ã™ã‚‹ React ãƒ•ãƒƒã‚¯ã§ã™ã€‚å‰¯ä½œç”¨ã¯ã€DOM ã®å¤‰æ›´ã‚„éåŒæœŸå‡¦ç†ãªã©ã€é–¢æ•°å¤–ã®å½±éŸ¿ã‚’ä¸ãˆã‚‹å‡¦ç†ã‚’æŒ‡ã—ã¾ã™ã€‚

```jsx
import React, { useState, useEffect } from 'react';

function DataFetching() {
  const [data, setData] = useState([]);

  useEffect(() => {
    fetch('https://api.example.com/data')
      .then((response) => response.json())
      .then((data) => setData(data));
  }, []);

  return (
    <ul>
      {data.map((item) => (
        <li key={item.id}>{item.name}</li>
      ))}
    </ul>
  );
}
```

### useRef

`useRef`ã¯ã€é–¢æ•°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå†…ã§ DOM è¦ç´ ã‚„ä»–ã® Ref ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚

```jsx
import React, { useRef, useEffect } from 'react';

function FocusInput() {
  const inputRef = useRef(null);

  useEffect(() => {
    // ãƒšãƒ¼ã‚¸ãŒãƒ­ãƒ¼ãƒ‰ã•ã‚ŒãŸã¨ãã« input è¦ç´ ã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã‚’å½“ã¦ã‚‹
    inputRef.current.focus();
  }, []);

  return <input ref={inputRef} type="text" />;
}
```

### useContext ã¨ createContext

`useContext`ã¨`createContext`ã‚’çµ„ã¿åˆã‚ã›ã¦ã€ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’ä½¿ç”¨ã§ãã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€è¦ªã‹ã‚‰ Props çµŒç”±ã§ãƒ‡ãƒ¼ã‚¿ã‚’æ¸¡ã™å¿…è¦ãŒãªããªã‚Šã¾ã™ã€‚

```jsx
import React, { useContext, createContext } from 'react';

const MyContext = createContext();

function App() {
  return (
    <MyContext.Provider value="Hello from Context!">
      <ChildComponent />
    </MyContext.Provider>
  );
}

function ChildComponent() {
  const value = useContext(MyContext);
  return <p>{value}</p>;
}
```

### useMemo ã¨ useCallback

`useMemo`ã¯å€¤ã®ãƒ¡ãƒ¢åŒ–ã«ä½¿ç”¨ã•ã‚Œã€`useCallback`ã¯å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚’é¿ã‘ãŸã„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«é–¢æ•°ã‚’æ¸¡ã™éš›ã«åˆ©ç”¨ã—ã¾ã™ã€‚

```jsx
import React, { useState, useMemo, useCallback } from 'react';

function List({ items }) {
  const itemCount = useMemo(() => items.length, [items]);
  const handleClick = useCallback((item) => {
    // ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ãƒ­ã‚¸ãƒƒã‚¯
  }, []);

  return (
    <div>
      <p>Item Count: {itemCount}</p>
      {items.map((item) => (
        <button key={item.id} onClick={() => handleClick(item)}>
          {item.name}
        </button>
      ))}
    </div>
  );
}
```

## Recoil

Recoil ã¯ React ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å†…ã§ã®çŠ¶æ…‹ç®¡ç†ã‚’ç°¡ç•¥åŒ–ã—ã¾ã™ã€‚ä»¥ä¸‹ã« Recoil ã®ä¸»è¦ãªãƒ•ãƒƒã‚¯ã‚’èª¬æ˜ã—ã€ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã‚’æä¾›ã—ã¾ã™ã€‚

### useRecoilState

`useRecoilState`ã¯ã€useState ã®ã‚ˆã†ã«ã‚¹ãƒ†ãƒ¼ãƒˆã‚’æ‰±ã„ã¾ã™ã€‚ã‚¹ãƒ†ãƒ¼ãƒˆãŒæ›´æ–°ã•ã‚Œã‚‹ã¨ã€ãã‚Œã‚’ä½¿ç”¨ã™ã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚Œã¾ã™ã€‚

```jsx
import { useRecoilState } from 'recoil';
import { myState } from './recoilAtoms';

function MyComponent() {
  const [state, setState] = useRecoilState(myState);

  return (
    <div>
      <p>State: {state}</p>
      <button onClick={() => setState(state + 1)}>Increment</button>
    </div>
  );
}
```

### useRecoilValue

`useRecoilValue`ã¯ RecoilValue å‹ã®ãƒ‡ãƒ¼ã‚¿ã‚’å—ã‘å–ã‚Šã€ã‚¹ãƒ†ãƒ¼ãƒˆã‚’åˆ©ç”¨ã—ã¾ã™ã€‚ã‚¹ãƒ†ãƒ¼ãƒˆãŒæ›´æ–°ã•ã‚Œã‚‹ã¨ã€ãã‚Œã‚’ä½¿ç”¨ã™ã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚Œã¾ã™ã€‚

```jsx
import { useRecoilValue } from 'recoil';
import { myState } from './recoilAtoms';

function MyComponent() {
  const state = useRecoilValue(myState);

  return <p>State: {state}</p>;
}
```

### useSetRecoilState

`useSetRecoilState`ã¯ RecoilState å‹ã®ãƒ‡ãƒ¼ã‚¿ã‚’å—ã‘å–ã‚Šã€ã‚¹ãƒ†ãƒ¼ãƒˆã®ã‚»ãƒƒã‚¿ãƒ¼é–¢æ•°ã‚’æä¾›ã—ã¾ã™ã€‚ã‚¹ãƒ†ãƒ¼ãƒˆãŒæ›´æ–°ã—ã¦ã‚‚ã€ä½¿ç”¨ã™ã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚Œã¾ã›ã‚“ã€‚

```jsx
import { useSetRecoilState } from 'recoil';
import { myState } from './recoilAtoms';

function MyComponent() {
  const setState = useSetRecoilState(myState);

  return (
    <div>
      <button onClick={() => setState((prev) => prev + 1)}>Increment</button>
    </div>
  );
}
```

## Redux

Redux ã¯å¼·åŠ›ãªã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ãƒ†ãƒ¼ãƒˆç®¡ç†ãƒ„ãƒ¼ãƒ«ã§ã™ãŒã€Recoil ã®åˆ©ç”¨ã‚’æ¤œè¨ã™ã‚‹ã“ã¨ã‚’ãŠå‹§ã‚ã—ã¾ã™ã€‚ä»¥ä¸‹ã¯ Redux ã®ä¸»è¦ãªé–¢æ•°ã¨ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã§ã™ã€‚

### createSlice

`createSlice`ã‚’ä½¿ç”¨ã™ã‚‹ã¨ã€Reducer ã‚’ç”Ÿæˆã—ã€Action Type ã¨ Action Creator ãŒè‡ªå‹•ç”Ÿæˆã•ã‚Œã¾ã™ã€‚

```jsx
import { createSlice } from '@reduxjs/toolkit';

const counterSlice = createSlice({
  name: 'counter',
  initialState: 0,
  reducers: {
    increment: (state) => state + 1,
    decrement: (state) => state - 1
  }
});

export const { increment, decrement } = counterSlice.actions;
export default counterSlice.reducer;
```

### configureStore

`configureStore`ã‚’ä½¿ç”¨ã—ã¦ã€ä½œæˆã—ãŸ Slice ã‚’ 1 ã¤ã®ã‚¹ãƒˆã‚¢ã«çµåˆã§ãã¾ã™ã€‚

```jsx
import { configureStore } from '@reduxjs/toolkit';
import counterReducer from './counterSlice';

const store = configureStore({
  reducer: {
    counter: counterReducer
  }
});
```

### useSelector

`useSelector`ã‚’ä½¿ç”¨ã—ã¦ã€ã‚¹ãƒˆã‚¢ã«ä¿å­˜ã•ã‚ŒãŸã‚¹ãƒ†ãƒ¼ãƒˆãƒ‡ãƒ¼ã‚¿ã‹ã‚‰å¿…è¦ãªãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã—ã¾ã™ã€‚

```jsx
import { useSelector } from 'react-redux';

function CounterDisplay() {
  const count = useSelector((state) => state.counter);
  return <p>Count: {count}</p>;
}
```

### useDispatch

`useDispatch`ã‚’ä½¿ç”¨ã—ã¦ã€ã‚¹ãƒˆã‚¢ã®ãƒ‡ãƒ¼ã‚¿ã‚’å¤‰æ›´ã™ã‚‹é–¢æ•°ã‚’å–å¾—ã§ãã¾ã™ã€‚

```jsx
import { useDispatch } from 'react-redux';
import { increment, decrement } from './counterSlice';

function CounterButtons() {
  const dispatch = useDispatch();

  return (
    <div>
      <button onClick={() => dispatch(increment())}>Increment</button>
      <button onClick={() => dispatch(decrement())}>Decrement</button>
    </div>
  );
}
```

React ã¨ãã®ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã®ç”¨èªã‚’ç†è§£ã—ã€ã“ã‚Œã‚‰ã®ãƒ•ãƒƒã‚¯ã¨ãƒ„ãƒ¼ãƒ«ã‚’æ´»ç”¨ã—ã¦åŠ¹æœçš„ãªã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’é–‹ç™ºã—ã¦ã¿ã¦ä¸‹ã•ã„ã€‚
